<div class="dashboard-container">
  <!-- Header -->
  <div class="dashboard-header">
    <div class="header-content">
      <h1 class="dashboard-title">Panel de Administración</h1>
      <div class="header-actions">
        <button class="btn btn-secondary" (click)="actualizarDatos()">
          <i class="icon-refresh"></i>
          Actualizar
        </button>
        <button class="btn btn-primary" (click)="exportarReporte()">
          <i class="icon-download"></i>
          Exportar Reporte
        </button>
      </div>
    </div>
  </div>

  <!-- Estadísticas Rápidas -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon clients">
        <i class="icon-users"></i>
      </div>
      <div class="stat-content">
        <h3>{{ estadisticas.totalClientes | number }}</h3>
        <p>Total Clientes</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon vehicles">
        <i class="icon-car"></i>
      </div>
      <div class="stat-content">
        <h3>{{ estadisticas.totalVehiculos | number }}</h3>
        <p>Vehículos Registrados</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon appointments">
        <i class="icon-calendar"></i>
      </div>
      <div class="stat-content">
        <h3>{{ estadisticas.citasHoy }}</h3>
        <p>Citas Hoy</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon revenue">
        <i class="icon-dollar"></i>
      </div>
      <div class="stat-content">
        <h3>${{ estadisticas.ingresosMes | number }}</h3>
        <p>Ingresos del Mes</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon orders">
        <i class="icon-clipboard"></i>
      </div>
      <div class="stat-content">
        <h3>{{ estadisticas.ordenesAbiertas }}</h3>
        <p>Órdenes Abiertas</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon parts">
        <i class="icon-cog"></i>
      </div>
      <div class="stat-content">
        <h3>{{ estadisticas.repuestosStock }}</h3>
        <p>Repuestos en Stock</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon employees">
        <i class="icon-user-tie"></i>
      </div>
      <div class="stat-content">
        <h3>{{ estadisticas.empleadosActivos }}</h3>
        <p>Empleados Activos</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon invoices">
        <i class="icon-file-text"></i>
      </div>
      <div class="stat-content">
        <h3>{{ estadisticas.facturasPendientes }}</h3>
        <p>Facturas Pendientes</p>
      </div>
    </div>
  </div>

  <!-- Gráficos -->
  <div class="charts-grid">
    <!-- Ventas Mensuales -->
    <div class="chart-card chart-large">
      <div class="chart-header">
        <h3>Ventas Mensuales</h3>
        <span class="chart-subtitle">Últimos 6 meses</span>
      </div>
      <div class="chart-content">
        <canvas baseChart
          [data]="ventasMensuales"
          [options]="lineChartOptions"
          type="line">
        </canvas>
      </div>
    </div>

    <!-- Servicios por Tipo -->
    <div class="chart-card">
      <div class="chart-header">
        <h3>Servicios por Tipo</h3>
        <span class="chart-subtitle">Distribución actual</span>
      </div>
      <div class="chart-content">
        <canvas baseChart
          [data]="serviciosPorTipo"
          [options]="doughnutChartOptions"
          type="doughnut">
        </canvas>
      </div>
    </div>

    <!-- Vehículos por Marca -->
    <div class="chart-card">
      <div class="chart-header">
        <h3>Vehículos por Marca</h3>
        <span class="chart-subtitle">Top 5 marcas</span>
      </div>
      <div class="chart-content">
        <canvas baseChart
          [data]="vehiculosPorMarca"
          [options]="barChartOptions"
          type="bar">
        </canvas>
      </div>
    </div>

    <!-- Empleados por Rol -->
    <div class="chart-card">
      <div class="chart-header">
        <h3>Empleados por Rol</h3>
        <span class="chart-subtitle">Distribución actual</span>
      </div>
      <div class="chart-content">
        <canvas baseChart
          [data]="empleadosPorRol"
          [options]="pieChartOptions"
          type="pie">
        </canvas>
      </div>
    </div>

    <!-- Citas por Estado -->
    <div class="chart-card">
      <div class="chart-header">
        <h3>Citas por Estado</h3>
        <span class="chart-subtitle">Esta semana</span>
      </div>
      <div class="chart-content">
        <canvas baseChart
          [data]="citasPorEstado"
          [options]="barChartOptions"
          type="bar">
        </canvas>
      </div>
    </div>

    <!-- Facturas -->
    <div class="chart-card chart-large">
      <div class="chart-header">
        <h3>Facturación</h3>
        <span class="chart-subtitle">Emitidas vs Pagadas</span>
      </div>
      <div class="chart-content">
        <canvas baseChart
          [data]="facturasPorMes"
          [options]="lineChartOptions"
          type="line">
        </canvas>
      </div>
    </div>
  </div>

  <!-- Actividad Reciente -->
  <div class="activity-section">
    <div class="activity-card">
      <div class="activity-header">
        <h3>Actividad Reciente</h3>
      </div>
      <div class="activity-list">
        <div class="activity-item">
          <div class="activity-icon new-order">
            <i class="icon-plus"></i>
          </div>
          <div class="activity-content">
            <p><strong>Nueva orden de trabajo</strong> creada para el vehículo ABC-123</p>
            <span class="activity-time">Hace 5 minutos</span>
          </div>
        </div>
        <div class="activity-item">
          <div class="activity-icon payment">
            <i class="icon-check"></i>
          </div>
          <div class="activity-content">
            <p><strong>Pago recibido</strong> de $1,500 - Factura #F-2024-001</p>
            <span class="activity-time">Hace 15 minutos</span>
          </div>
        </div>
        <div class="activity-item">
          <div class="activity-icon appointment">
            <i class="icon-calendar"></i>
          </div>
          <div class="activity-content">
            <p><strong>Cita programada</strong> para mañana a las 10:00 AM</p>
            <span class="activity-time">Hace 30 minutos</span>
          </div>
        </div>
        <div class="activity-item">
          <div class="activity-icon stock">
            <i class="icon-alert"></i>
          </div>
          <div class="activity-content">
            <p><strong>Stock bajo</strong> - Filtro de aceite (5 unidades restantes)</p>
            <span class="activity-time">Hace 1 hora</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>